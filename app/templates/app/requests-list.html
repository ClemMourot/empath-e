{% extends 'app/base.html' %}
{% load static %}

{% block content %}

<!-- Requests Section -->
<section class="page-section" id="requests">

    <div class="container-fluid">

      <!-- Requests Section Heading -->
      <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Requêtes</h2>

      <!-- Icon Divider -->
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
        <div class="divider-custom-icon">
          <i class="fas fa-star"></i>
        </div>
        <div class="divider-custom-line"></div>
      </div>

      <!-- Requests Listing -->

        <div class="container">
            <div class="row align-items-center justify-content-center text-center">
            {% if requests|length_is:"0" %}
                <div class="text-center text-uppercase text-secondary mb-0 testimony">Pas de nouvelles requêtes pour le moment !</div>
            {% else %}


              <div class="row align-items-center justify-content-center text-center">
                {% for request in requests %}
                    <div class="col-lg-4 ml-auto">

                        <div class="request">
                            <div class="mb-3">Voici le message de <strong> {{ request.user.username }} </strong> : </div>
                            <p>"{{ request.message }}"</p>
                            <div class="text-center">
                                <a class="btn btn-xl btn-outline-light" href="/">
                                Accepter
                                </a>
                            </div>
                            
                        </div>

                    </div>


                    {% if forloop.counter|divisibleby:3 %}<div class="clearfix"></div>{% endif %}
                    {% endfor %}

                    {% endif %}
              </div>
              {% if paginate %}
                <div class="pagination row text-center align-items-center justify-content-center text-secondary">
                    <span class="step-links">
                        {% if requests.has_previous %}
                            <a href="?page={{ requests.previous_page_number }}">&laquo;</a>
                        {% endif %}

                        <span class="current">
                            Page {{ requests.number }} sur {{ requests.paginator.num_pages }}
                        </span>

                        {% if requests.has_next %}
                            <a href="?page={{ requests.next_page_number }}">&raquo;</a>
                        {% endif %}
                    </span>
                </div>
              {% endif %}
            </div>
        </div>
        </div>

</section>


{% endblock %}